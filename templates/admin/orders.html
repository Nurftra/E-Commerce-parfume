{% extends 'base.html' %}
{% from '_pagination.html' import render_pagination %}
{% block title %}Admin - Kelola Pesanan{% endblock %}

{% block content %}
<h2 class="text-3xl font-bold text-gray-800 mb-6">Kelola Pesanan</h2>

<div class="bg-white shadow-md rounded-lg overflow-x-auto">
    <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Pengguna</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Detail Item</th>
                <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase">Total</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tanggal Pesan</th>
            </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
            {% for order in orders_pagination.items %}
            <tr class="hover:bg-gray-50">
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ order.id }}</td>
                <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-900">{{ order.user.username }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ order.items }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-right font-semibold text-gray-900">{{ order.total|rupiah }}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ order.created_at.strftime('%d %b %Y, %H:%M') }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" class="text-center py-10 text-gray-500">Belum ada pesanan.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-6">
    {{ render_pagination(orders_pagination, 'admin_orders') }}
</div>
{% endblock %}